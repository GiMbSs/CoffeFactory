{% extends 'base.html' %}
{% load static %}

{% block title %}Folha de Pagamento - Coffee Factory Management System{% endblock %}

{% block extra_css %}
<style>
    .stat-card {
        transition: all 0.3s ease;
        background: linear-gradient(135deg, rgba(139, 69, 19, 0.1) 0%, rgba(210, 105, 30, 0.1) 100%);
        border: 1px solid rgba(139, 69, 19, 0.2);
    }
    .stat-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 40px -8px rgba(139, 69, 19, 0.3);
        border-color: rgba(139, 69, 19, 0.4);
    }
    .stat-icon {
        background: linear-gradient(135deg, #8B4513 0%, #D2691E 100%);
        transition: transform 0.3s ease;
    }
    .stat-card:hover .stat-icon {
        transform: scale(1.1);
    }
    .gradient-card-blue {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .gradient-card-green {
        background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    }
    .gradient-card-orange {
        background: linear-gradient(135deg, #fc7944 0%, #f86a05 100%);
    }
    .gradient-card-coffee {
        background: linear-gradient(135deg, #8B4513 0%, #D2691E 100%);
    }
</style>
{% endblock %}

{% block content %}
<div x-data="{ showFilters: false, showProcessModal: false, showPaymentModal: false, selectedPeriod: '2025-09' }">
    <!-- Page Header -->
    <div class="mb-8">
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between">
            <div>
                <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">
                    <i class="fas fa-users text-coffee-600 dark:text-coffee-400 mr-3"></i>
                    Folha de Pagamento
                </h1>
                <p class="text-gray-600 dark:text-gray-400">
                    Gerencie a folha de pagamento dos funcionários
                </p>
            </div>
            <div class="mt-4 lg:mt-0 flex flex-col sm:flex-row gap-3">
                <button @click="showProcessModal = true" class="bg-coffee-600 hover:bg-coffee-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:scale-105 flex items-center">
                    <i class="fas fa-play mr-2"></i>
                    Processar Folha
                </button>
                <button @click="showFilters = !showFilters" class="inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium rounded-lg shadow-sm transition-all duration-200">
                    <i class="fas fa-filter mr-2"></i>
                    Filtros
                </button>
            </div>
        </div>
    </div>

    <!-- Period Selector -->
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-coffee-200 dark:border-coffee-700 p-6 mb-8">
        <div class="flex items-center justify-between">
            <div>
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Período da Folha</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">Selecione o mês/ano para visualizar ou processar a folha</p>
            </div>
            <div class="flex items-center space-x-4">
                <select x-model="selectedPeriod" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-coffee-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                    <option value="2025-09">Setembro 2025</option>
                    <option value="2025-08">Agosto 2025</option>
                    <option value="2025-07">Julho 2025</option>
                    <option value="2025-06">Junho 2025</option>
                    <option value="2025-05">Maio 2025</option>
                </select>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200">
                    <i class="fas fa-check mr-1"></i>
                    Processada
                </span>
            </div>
        </div>
    </div>

    <!-- Summary Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div class="stat-card rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center">
                    <div>
                        <p class="text-sm text-gray-500 dark:text-gray-400 font-medium">Total Funcionários</p>
                        <p class="text-2xl font-bold text-gray-900 dark:text-white">28</p>
                    </div>
                </div>
                <div class="stat-icon w-12 h-12 rounded-lg flex items-center justify-center text-white ml-auto">
                    <i class="fas fa-users text-xl"></i>
                </div>
            </div>
            <div class="flex items-center text-sm">
                <span class="text-blue-600 dark:text-blue-400 font-medium">+2</span>
                <span class="text-gray-500 dark:text-gray-400 ml-2">vs. mês anterior</span>
            </div>
        </div>

        <div class="stat-card rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center">
                    <div>
                        <p class="text-sm text-gray-500 dark:text-gray-400 font-medium">Folha Bruta</p>
                        <p class="text-2xl font-bold text-gray-900 dark:text-white">R$ 95.820,00</p>
                    </div>
                </div>
                <div class="stat-icon w-12 h-12 rounded-lg flex items-center justify-center text-white ml-auto">
                    <i class="fas fa-money-bill-wave text-xl"></i>
                </div>
            </div>
            <div class="flex items-center text-sm">
                <span class="text-green-600 dark:text-green-400 font-medium">+8.5%</span>
                <span class="text-gray-500 dark:text-gray-400 ml-2">vs. mês anterior</span>
            </div>
        </div>

        <div class="stat-card rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center">
                    <div>
                        <p class="text-sm text-gray-500 dark:text-gray-400 font-medium">Total Descontos</p>
                        <p class="text-2xl font-bold text-gray-900 dark:text-white">R$ 23.950,00</p>
                    </div>
                </div>
                <div class="stat-icon w-12 h-12 rounded-lg flex items-center justify-center text-white ml-auto">
                    <i class="fas fa-percentage text-xl"></i>
                </div>
            </div>
            <div class="flex items-center text-sm">
                <span class="text-orange-600 dark:text-orange-400 font-medium">25%</span>
                <span class="text-gray-500 dark:text-gray-400 ml-2">da folha bruta</span>
            </div>
        </div>

        <div class="stat-card rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center">
                    <div>
                        <p class="text-sm text-gray-500 dark:text-gray-400 font-medium">Folha Líquida</p>
                        <p class="text-2xl font-bold text-gray-900 dark:text-white">R$ 71.870,00</p>
                    </div>
                </div>
                <div class="stat-icon w-12 h-12 rounded-lg flex items-center justify-center text-white ml-auto">
                    <i class="fas fa-money-bill-wave text-xl"></i>
                </div>
            </div>
            <div class="flex items-center text-sm">
                <span class="text-coffee-600 dark:text-coffee-400 font-medium">Líquido</span>
                <span class="text-gray-500 dark:text-gray-400 ml-2">a pagar</span>
            </div>
        </div>
    </div>

    <!-- Filters and Search -->
    <div x-show="showFilters" x-collapse class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-coffee-200 dark:border-coffee-700 mb-6 lg:mb-8 transition-all duration-200">
        <div class="p-4 lg:p-6">
            <form class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4">
                    
                    <!-- Department -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Departamento</label>
                        <select class="w-full px-3 py-2.5 border border-coffee-300 dark:border-coffee-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-transparent transition-all duration-200 hover:border-coffee-400 dark:hover:border-coffee-500">
                            <option>Todos</option>
                            <option>Produção</option>
                            <option>Administrativo</option>
                            <option>Vendas</option>
                            <option>Qualidade</option>
                            <option>Logística</option>
                        </select>
                    </div>

                    <!-- Position -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Cargo</label>
                        <select class="w-full px-3 py-2.5 border border-coffee-300 dark:border-coffee-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-transparent transition-all duration-200 hover:border-coffee-400 dark:hover:border-coffee-500">
                            <option>Todos</option>
                            <option>Operador</option>
                            <option>Supervisor</option>
                            <option>Analista</option>
                            <option>Coordenador</option>
                            <option>Gerente</option>
                        </select>
                    </div>

                    <!-- Status -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Status</label>
                        <select class="w-full px-3 py-2.5 border border-coffee-300 dark:border-coffee-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-transparent transition-all duration-200 hover:border-coffee-400 dark:hover:border-coffee-500">
                            <option>Todos</option>
                            <option>Ativo</option>
                            <option>Férias</option>
                            <option>Afastado</option>
                            <option>Licença</option>
                        </select>
                    </div>

                    <!-- Search Field -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Buscar</label>
                        <div class="relative">
                            <input type="text" 
                                   placeholder="Nome do funcionário..." 
                                   autocomplete="off"
                                   class="w-full pl-10 pr-4 py-2.5 border border-coffee-300 dark:border-coffee-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-transparent transition-all duration-200 hover:border-coffee-400 dark:hover:border-coffee-500">
                            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-colors duration-200"></i>
                        </div>
                    </div>
                </div>

                <div class="flex justify-end space-x-3 pt-2 border-t border-coffee-200 dark:border-coffee-700">
                    <button type="reset" 
                            class="px-4 py-2.5 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700">
                        Limpar
                    </button>
                    <button type="submit" 
                            class="px-6 py-2.5 bg-coffee-600 hover:bg-coffee-700 active:bg-coffee-800 text-white font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:ring-offset-2">
                        <i class="fas fa-filter mr-2"></i>
                        Filtrar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Payroll Table -->
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-coffee-200 dark:border-coffee-700 overflow-hidden">
        <div class="px-6 py-4 border-b border-coffee-200 dark:border-coffee-700">
            <div class="flex items-center justify-between">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                    <i class="fas fa-list text-coffee-600 dark:text-coffee-400 mr-2"></i>
                    Folha de Pagamento - Setembro 2025
                </h3>
                <div class="flex items-center space-x-3">
                    <div class="relative">
                        <input type="text" placeholder="Buscar funcionário..." class="pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-coffee-500 focus:border-transparent w-64 dark:bg-gray-700 dark:text-white">
                        <i class="fas fa-search text-gray-400 absolute left-3 top-2.5"></i>
                    </div>
                    <button class="p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300" title="Exportar">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300" title="Imprimir">
                        <i class="fas fa-print"></i>
                    </button>
                </div>
            </div>
        </div>

        <div class="overflow-x-auto">
            <table class="w-full">
                <thead class="bg-gray-50 dark:bg-gray-700 border-b border-coffee-200 dark:border-gray-600">
                    <tr>
                        <th class="text-left py-3 px-6 font-medium text-gray-500 dark:text-gray-400 text-sm">Funcionário</th>
                        <th class="text-left py-3 px-6 font-medium text-gray-500 dark:text-gray-400 text-sm">Cargo</th>
                        <th class="text-left py-3 px-6 font-medium text-gray-500 dark:text-gray-400 text-sm">Salário Base</th>
                        <th class="text-left py-3 px-6 font-medium text-gray-500 dark:text-gray-400 text-sm">Horas Extras</th>
                        <th class="text-left py-3 px-6 font-medium text-gray-500 dark:text-gray-400 text-sm">Bruto</th>
                        <th class="text-left py-3 px-6 font-medium text-gray-500 dark:text-gray-400 text-sm">Descontos</th>
                        <th class="text-left py-3 px-6 font-medium text-gray-500 dark:text-gray-400 text-sm">Líquido</th>
                        <th class="text-center py-3 px-6 font-medium text-gray-500 dark:text-gray-400 text-sm">Ações</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-100 dark:divide-gray-700">
                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
                        <td class="py-4 px-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 w-8 h-8 bg-coffee-100 dark:bg-coffee-900 rounded-lg flex items-center justify-center mr-3">
                                    <i class="fas fa-user text-coffee-600 dark:text-coffee-400 text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900 dark:text-white">João Silva Santos</p>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">ID: 0001 | Produção</p>
                                </div>
                            </div>
                        </td>
                        <td class="py-4 px-6">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200">
                                Operador Sênior
                            </span>
                        </td>
                        <td class="py-4 px-6 font-semibold text-gray-900 dark:text-white">R$ 3.200,00</td>
                        <td class="py-4 px-6 font-semibold text-green-600 dark:text-green-400">R$ 480,00</td>
                        <td class="py-4 px-6 font-semibold text-blue-600 dark:text-blue-400">R$ 3.680,00</td>
                        <td class="py-4 px-6 font-semibold text-red-600 dark:text-red-400">R$ 920,00</td>
                        <td class="py-4 px-6 font-bold text-coffee-600 dark:text-coffee-400">R$ 2.760,00</td>
                        <td class="py-4 px-6">
                            <div class="flex items-center justify-center space-x-2">
                                <button @click="showPaymentModal = true" class="p-1 text-coffee-600 dark:text-coffee-400 hover:text-coffee-700 dark:hover:text-coffee-300" title="Ver Holerite">
                                    <i class="fas fa-receipt"></i>
                                </button>
                                <button class="p-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300" title="Editar">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300" title="Histórico">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>

                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
                        <td class="py-4 px-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 w-8 h-8 bg-coffee-100 dark:bg-coffee-900 rounded-lg flex items-center justify-center mr-3">
                                    <i class="fas fa-user text-coffee-600 dark:text-coffee-400 text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900 dark:text-white">Maria Oliveira Costa</p>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">ID: 0002 | Qualidade</p>
                                </div>
                            </div>
                        </td>
                        <td class="py-4 px-6">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200">
                                Analista Qualidade
                            </span>
                        </td>
                        <td class="py-4 px-6 font-semibold text-gray-900 dark:text-white">R$ 4.500,00</td>
                        <td class="py-4 px-6 font-semibold text-green-600 dark:text-green-400">R$ 0,00</td>
                        <td class="py-4 px-6 font-semibold text-blue-600 dark:text-blue-400">R$ 4.500,00</td>
                        <td class="py-4 px-6 font-semibold text-red-600 dark:text-red-400">R$ 1.125,00</td>
                        <td class="py-4 px-6 font-bold text-coffee-600 dark:text-coffee-400">R$ 3.375,00</td>
                        <td class="py-4 px-6">
                            <div class="flex items-center justify-center space-x-2">
                                <button @click="showPaymentModal = true" class="p-1 text-coffee-600 dark:text-coffee-400 hover:text-coffee-700 dark:hover:text-coffee-300" title="Ver Holerite">
                                    <i class="fas fa-receipt"></i>
                                </button>
                                <button class="p-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300" title="Editar">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300" title="Histórico">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>

                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
                        <td class="py-4 px-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 w-8 h-8 bg-coffee-100 dark:bg-coffee-900 rounded-lg flex items-center justify-center mr-3">
                                    <i class="fas fa-user text-coffee-600 dark:text-coffee-400 text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900 dark:text-white">Carlos Roberto Lima</p>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">ID: 0003 | Produção</p>
                                </div>
                            </div>
                        </td>
                        <td class="py-4 px-6">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200">
                                Supervisor
                            </span>
                        </td>
                        <td class="py-4 px-6 font-semibold text-gray-900 dark:text-white">R$ 5.800,00</td>
                        <td class="py-4 px-6 font-semibold text-green-600 dark:text-green-400">R$ 290,00</td>
                        <td class="py-4 px-6 font-semibold text-blue-600 dark:text-blue-400">R$ 6.090,00</td>
                        <td class="py-4 px-6 font-semibold text-red-600 dark:text-red-400">R$ 1.522,50</td>
                        <td class="py-4 px-6 font-bold text-coffee-600 dark:text-coffee-400">R$ 4.567,50</td>
                        <td class="py-4 px-6">
                            <div class="flex items-center justify-center space-x-2">
                                <button @click="showPaymentModal = true" class="p-1 text-coffee-600 dark:text-coffee-400 hover:text-coffee-700 dark:hover:text-coffee-300" title="Ver Holerite">
                                    <i class="fas fa-receipt"></i>
                                </button>
                                <button class="p-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300" title="Editar">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300" title="Histórico">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>

                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
                        <td class="py-4 px-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 w-8 h-8 bg-coffee-100 dark:bg-coffee-900 rounded-lg flex items-center justify-center mr-3">
                                    <i class="fas fa-user text-coffee-600 dark:text-coffee-400 text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900 dark:text-white">Ana Paula Ferreira</p>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">ID: 0004 | Vendas</p>
                                </div>
                            </div>
                        </td>
                        <td class="py-4 px-6">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200">
                                Vendedora
                            </span>
                        </td>
                        <td class="py-4 px-6 font-semibold text-gray-900 dark:text-white">R$ 2.800,00</td>
                        <td class="py-4 px-6 font-semibold text-green-600 dark:text-green-400">R$ 850,00</td>
                        <td class="py-4 px-6 font-semibold text-blue-600 dark:text-blue-400">R$ 3.650,00</td>
                        <td class="py-4 px-6 font-semibold text-red-600 dark:text-red-400">R$ 912,50</td>
                        <td class="py-4 px-6 font-bold text-coffee-600 dark:text-coffee-400">R$ 2.737,50</td>
                        <td class="py-4 px-6">
                            <div class="flex items-center justify-center space-x-2">
                                <button @click="showPaymentModal = true" class="p-1 text-coffee-600 dark:text-coffee-400 hover:text-coffee-700 dark:hover:text-coffee-300" title="Ver Holerite">
                                    <i class="fas fa-receipt"></i>
                                </button>
                                <button class="p-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300" title="Editar">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300" title="Histórico">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Pagination -->
        <div class="px-6 py-4 border-t border-coffee-200 dark:border-coffee-700">
            <div class="flex items-center justify-between">
                <div class="flex items-center text-sm text-gray-500 dark:text-gray-400">
                    <span>Mostrando <span class="font-medium text-gray-900 dark:text-white">1</span> a <span class="font-medium text-gray-900 dark:text-white">10</span> de <span class="font-medium text-gray-900 dark:text-white">28</span> funcionários</span>
                </div>
                <div class="flex items-center space-x-2">
                    <button class="px-3 py-1 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        Anterior
                    </button>
                    <button class="px-3 py-1 text-sm bg-coffee-600 text-white rounded-lg">1</button>
                    <button class="px-3 py-1 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">2</button>
                    <button class="px-3 py-1 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">3</button>
                    <button class="px-3 py-1 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                        Próximo
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Process Payroll Modal -->
    <div x-show="showProcessModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50" style="display: none;">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-lg w-full">
            <div class="flex items-center justify-between p-6 border-b border-coffee-200 dark:border-coffee-700">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Processar Folha de Pagamento</h3>
                <button @click="showProcessModal = false" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <form class="p-6">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Período *</label>
                        <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-coffee-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                            <option value="2025-10">Outubro 2025</option>
                            <option value="2025-11">Novembro 2025</option>
                            <option value="2025-12">Dezembro 2025</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Tipo de Processamento</label>
                        <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-coffee-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                            <option>Folha Normal</option>
                            <option>Folha Complementar</option>
                            <option>13º Salário</option>
                            <option>Férias</option>
                            <option>Rescisão</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Departamentos</label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" checked class="rounded border-gray-300 text-coffee-600 shadow-sm focus:border-coffee-300 focus:ring focus:ring-coffee-200 focus:ring-opacity-50">
                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Todos os departamentos</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="rounded border-gray-300 text-coffee-600 shadow-sm focus:border-coffee-300 focus:ring focus:ring-coffee-200 focus:ring-opacity-50">
                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Apenas Produção</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="rounded border-gray-300 text-coffee-600 shadow-sm focus:border-coffee-300 focus:ring focus:ring-coffee-200 focus:ring-opacity-50">
                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Apenas Administrativo</span>
                            </label>
                        </div>
                    </div>

                    <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4">
                        <div class="flex">
                            <i class="fas fa-exclamation-triangle text-yellow-400 mr-3 mt-0.5"></i>
                            <div>
                                <h4 class="text-sm font-medium text-yellow-800 dark:text-yellow-200">Atenção</h4>
                                <p class="text-sm text-yellow-700 dark:text-yellow-300 mt-1">
                                    O processamento da folha irá recalcular todos os valores com base nos dados atuais dos funcionários.
                                    Esta ação não pode ser desfeita.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex justify-end space-x-3 mt-6">
                    <button type="button" @click="showProcessModal = false" class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-2 bg-coffee-600 hover:bg-coffee-700 text-white font-medium rounded-lg transition-colors">
                        Processar Folha
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Payslip Modal -->
    <div x-show="showPaymentModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50" style="display: none;">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between p-6 border-b border-coffee-200 dark:border-coffee-700">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Holerite - João Silva Santos</h3>
                <button @click="showPaymentModal = false" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="p-6">
                <!-- Employee Info -->
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Funcionário</p>
                            <p class="font-medium text-gray-900 dark:text-white">João Silva Santos</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Cargo</p>
                            <p class="font-medium text-gray-900 dark:text-white">Operador Sênior</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Departamento</p>
                            <p class="font-medium text-gray-900 dark:text-white">Produção</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Período</p>
                            <p class="font-medium text-gray-900 dark:text-white">Setembro/2025</p>
                        </div>
                    </div>
                </div>

                <!-- Earnings -->
                <div class="mb-6">
                    <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Proventos</h4>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center py-2 border-b border-coffee-200 dark:border-gray-600">
                            <span class="text-gray-700 dark:text-gray-300">Salário Base</span>
                            <span class="font-semibold text-gray-900 dark:text-white">R$ 3.200,00</span>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-coffee-200 dark:border-gray-600">
                            <span class="text-gray-700 dark:text-gray-300">Horas Extras (15h)</span>
                            <span class="font-semibold text-gray-900 dark:text-white">R$ 480,00</span>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-coffee-200 dark:border-gray-600">
                            <span class="text-gray-700 dark:text-gray-300">Adicional Noturno</span>
                            <span class="font-semibold text-gray-900 dark:text-white">R$ 0,00</span>
                        </div>
                        <div class="flex justify-between items-center py-2 font-semibold border-t-2 border-coffee-600">
                            <span class="text-coffee-600 dark:text-coffee-400">Total Proventos</span>
                            <span class="text-coffee-600 dark:text-coffee-400">R$ 3.680,00</span>
                        </div>
                    </div>
                </div>

                <!-- Deductions -->
                <div class="mb-6">
                    <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Descontos</h4>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center py-2 border-b border-coffee-200 dark:border-gray-600">
                            <span class="text-gray-700 dark:text-gray-300">INSS</span>
                            <span class="font-semibold text-red-600 dark:text-red-400">R$ 294,40</span>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-coffee-200 dark:border-gray-600">
                            <span class="text-gray-700 dark:text-gray-300">IRRF</span>
                            <span class="font-semibold text-red-600 dark:text-red-400">R$ 183,60</span>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-coffee-200 dark:border-gray-600">
                            <span class="text-gray-700 dark:text-gray-300">Vale Transporte</span>
                            <span class="font-semibold text-red-600 dark:text-red-400">R$ 220,80</span>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-coffee-200 dark:border-gray-600">
                            <span class="text-gray-700 dark:text-gray-300">Plano de Saúde</span>
                            <span class="font-semibold text-red-600 dark:text-red-400">R$ 156,00</span>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-coffee-200 dark:border-gray-600">
                            <span class="text-gray-700 dark:text-gray-300">Vale Refeição</span>
                            <span class="font-semibold text-red-600 dark:text-red-400">R$ 65,20</span>
                        </div>
                        <div class="flex justify-between items-center py-2 font-semibold border-t-2 border-red-600">
                            <span class="text-red-600 dark:text-red-400">Total Descontos</span>
                            <span class="text-red-600 dark:text-red-400">R$ 920,00</span>
                        </div>
                    </div>
                </div>

                <!-- Net Pay -->
                <div class="bg-coffee-50 dark:bg-coffee-900/20 rounded-lg p-4">
                    <div class="flex justify-between items-center">
                        <span class="text-lg font-semibold text-coffee-600 dark:text-coffee-400">Valor Líquido a Receber</span>
                        <span class="text-2xl font-bold text-coffee-600 dark:text-coffee-400">R$ 2.760,00</span>
                    </div>
                </div>

                <div class="flex justify-end space-x-3 mt-6">
                    <button type="button" @click="showPaymentModal = false" class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium">
                        Fechar
                    </button>
                    <button type="button" class="px-6 py-2 bg-coffee-600 hover:bg-coffee-700 text-white font-medium rounded-lg transition-colors">
                        <i class="fas fa-print mr-2"></i>
                        Imprimir Holerite
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
